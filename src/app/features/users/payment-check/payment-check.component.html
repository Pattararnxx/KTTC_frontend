<app-navbar></app-navbar>
<div class="min-h-[calc(100vh-110px)] flex flex-col">
  <section class="flex-grow px-2 sm:px-4 lg:px-6 py-8 sm:py-15">
    <form
      [formGroup]="searchForm"
      (submit)="onSubmit()"
      class="max-w-xs sm:max-w-2xl lg:max-w-5xl mx-auto">
      <label for="search" class="mb-2 text-sm font-medium text-gray-900 sr-only">Search</label>
      <div class="relative">
        <div class="absolute inset-y-0 start-0 flex items-center ps-2 sm:ps-3 pointer-events-none">
          <svg class="w-3 h-3 sm:w-4 sm:h-4 text-gray-900" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"/>
          </svg>
        </div>
        <input type="search" id="search" formControlName="query" class="block w-full p-3 sm:p-5 ps-8 sm:ps-10 sm:text-base md:text-xl text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-[#e07a3a] focus:border-[#e07a3a]" placeholder="กรอกชื่อ หรือ นามสกุล" required />
        <button type="submit" class="text-white absolute end-1.5 sm:end-2.5 bottom-2 sm:bottom-3 bg-[#c04000] hover:bg-[#a03800] focus:ring-4 focus:outline-none focus:ring-[#e07a3a] font-medium rounded-lg text-sm sm:text-lg px-2 sm:px-4 py-1.5 sm:py-2">คลิกเพื่อค้นหา</button>
      </div>
    </form>
    <div *ngIf="foundUsers().length > 0">
      @for (user of foundUsers(); track user.firstname + user.lastname) {
        <div class="flex flex-col gap-3 px-4 py-6 border-2 w-full max-w-sm sm:max-w-2xl lg:max-w-3xl mt-6 sm:mt-15 mx-auto rounded-2xl sm:gap-4 sm:px-10 sm:py-15">

          <div class="block sm:hidden">
            <div class="text-center mb-4">
              <h3 class="text-lg font-medium text-gray-800 mb-2">{{user.firstname}} {{user.lastname}}</h3>
              <div class="inline-block px-3 py-1 rounded-full text-sm font-medium"
                   [class]="user.is_paid ? 'bg-green-100 text-green-800' : 'bg-yellow-100 text-yellow-800'">
                {{ user.is_paid ? 'ชำระเงินเรียบร้อย' : 'รอตรวจสอบ' }}
              </div>
            </div>
          </div>

          <div class="hidden sm:block">
            <div class="flex justify-between text-xl font-medium mb-4">
              <h3>ชื่อ - นามสกุล</h3>
              <h3>สถานะการชำระเงิน</h3>
            </div>
            <div class="flex justify-between text-xl font-light">
              <p>{{user.firstname}} {{user.lastname}}</p>
              <p [class]="user.is_paid ? 'text-green-600' : 'text-yellow-600'">
                {{ user.is_paid ? 'ชำระเงินเรียบร้อย' : 'รอตรวจสอบ' }}
              </p>
            </div>
          </div>

        </div>
      }
    </div>
  </section>
  <div class="h-16 sm:h-25 bg-[#c04000] w-full text-white flex items-center justify-center text-sm sm:text-lg px-4"></div>
</div>
